---
title: "Day 1"
output: pdf_document
date: "2023-08-02"
---

```{r setup, include=TRUE}
knitr::opts_chunk$set(echo = TRUE)
```

#install.packages('RforHDSdata')

```{r, include=TRUE}
library(RforHDSdata)
```

## Chapter 2 Exercise 1

Recreate the following data frame in R, where `temperature` and `co2` represent the average $\cdot F$ and $CO_2$ concentrations in $mg/m^3$ for the month of January 2008, and name it `city_air_quality`. 

<img src="images/2-exercise1df.png" alt= “” width="250pt" align="center">

```{r}
city_air_quality <- data.frame(city = c("Beijing", "Shanghai", "Paris", "Rome", 
          "London", "San Francisco", "Toronto"), 
                               country = c("China", "China", "France", "Italy", 
          "United Kingdom", "United States", "Canada"), 
                               temperature = c(35, 88, 42, 84, 81, 55, 30), 
                               co2 = c(2.6, 2.2, 1.6, 1.2, 0.9, 0.7, 1.7))
city_air_quality 
```

##Chapter 2 Exercise 4

Use single square brackets to access the precipitation and $\text{CO}_2$ concentration entries for San Francisco and Paris in your data frame. Then, create a list of lists called `city_list` containing the city, precipitation, and  $\text{CO}_2$ concentration information for both San Francisco and Paris.

```{r}
precipitation <- c('Yes', 'No', 'No', 'Yes', 'Yes', 'Yes', 'No')
city_air_quality$precipitation <- precipitation

city_air_quality$precipitation <- as.factor(city_air_quality$precipitation)
new_row <- data.frame(city = "Reykjavik", 
                      country = "Iceland", 
                      temperature = 56, 
                      co2 = 1.3,
                      precipitation = "No")
city_air_quality <- rbind(city_air_quality, new_row)
#city_air_quality

city_air_quality[c(3,6), c(4, 5)]
city_list <- list()
city_list[[1]] = list(city = "San Francisco", precipitation = "Yes", 
                co2 = 0.7)
city_list[[2]] = list(city = "Paris", precipitation = "No", 
                co2 = 1.6)
city_list
```

## Chapter 3 Exercise 3

Create a new data frame called `pain.new` that doesn't contain patients with NA values for both `GH_MENTAL_SCORE` and `GH_PHYSICAL_SCORE`, which are the PROMIS global mental and physical scores, respectively. 

```{r}
pain.new <- pain[!is.na(pain$GH_MENTAL_SCORE) & !is.na(pain$GH_PHYSICAL_SCORE),]
```

## Chapter 3 Exercise 4

Create a vector of the total number of patients who reported pain in each of bodily pain regions. Then, create a data frame containing the minimum, median, mean, maximum, standard deviation, and variance of this vector.


```{r}
colsums <- colSums(pain[,c(2:75)], na.rm = TRUE)

colsum_summary <- data.frame(Variable = c("Sum of Columns"),
                             Min =  min(colsums),
                             Median = median(colsums),
                             Mean  = mean(colsums),
                             Max = max(colsums),
                             SD = sd(colsums),
                             Var = var(colsums))
```

## Chapter 3 Exercise 7

First, create a histogram to plot the distribution of the     `PAIN_INTENSITY_AVERAGE.FOLLOW_UP` variable. Then, create a table summarizing how many patients had missing values in this column. Finally, compare the distributions of the other variables between those with and without missing follow up. What do you notice?

```{r}
hist(pain$PAIN_INTENSITY_AVERAGE.FOLLOW_UP)

pain$missing_follow_up <- is.na(pain$PAIN_INTENSITY_AVERAGE.FOLLOW_UP)
pain$missing_follow_up[pain$missing_follow_up == "FALSE"] <- "Not Missing"
pain$missing_follow_up[pain$missing_follow_up == "TRUE"] <- "Missing"
table(pain$missing_follow_up)
```
